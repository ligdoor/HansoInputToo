<Window x:Class="HansoInputTool.Views.EditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:converters="clr-namespace:HansoInputTool.Converters"
        mc:Ignorable="d"
        Title="{Binding WindowTitle}" SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterOwner" ResizeMode="NoResize">

    <Window.Resources>
        <converters:BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>

    <!-- ↓↓↓ ルート要素をGridに変更し、背景色を強制的に設定 ↓↓↓ -->
    <Grid Background="{StaticResource BgBrush}">
        <StackPanel Margin="20" MinWidth="300">
            <Border BorderBrush="{StaticResource InputBorderBrush}" BorderThickness="2" CornerRadius="3" Margin="0,0,0,10">
                <Grid>
                    <StackPanel Margin="5">
                        <Label Content="日(B)" FontWeight="Bold" Padding="0,0,0,2"/>
                        <TextBox Text="{Binding Day, UpdateSourceTrigger=PropertyChanged}" Padding="5,2" BorderThickness="0"/>
                    </StackPanel>
                    <Label Content="日" Foreground="{StaticResource SubTextBrush}" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,5,5,0"/>
                </Grid>
            </Border>
            <Border BorderBrush="{StaticResource InputBorderBrush}" BorderThickness="2" CornerRadius="3" Margin="0,0,0,10">
                <Grid>
                    <StackPanel Margin="5">
                        <Label Content="有料キロ(D)" FontWeight="Bold" Padding="0,0,0,2"/>
                        <TextBox Text="{Binding YuryoKm, UpdateSourceTrigger=PropertyChanged}" Padding="5,2" BorderThickness="0"/>
                    </StackPanel>
                    <Label Content="km" Foreground="{StaticResource SubTextBrush}" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,5,5,0"/>
                </Grid>
            </Border>
            <Border BorderBrush="{StaticResource InputBorderBrush}" BorderThickness="2" CornerRadius="3" Margin="0,0,0,10">
                <Grid>
                    <StackPanel Margin="5">
                        <Label Content="無料キロ(E)" FontWeight="Bold" Padding="0,0,0,2"/>
                        <TextBox Text="{Binding MuryoKm, UpdateSourceTrigger=PropertyChanged}" Padding="5,2" BorderThickness="0"/>
                    </StackPanel>
                    <Label Content="km" Foreground="{StaticResource SubTextBrush}" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,5,5,0"/>
                </Grid>
            </Border>
            <Border BorderBrush="{StaticResource InputBorderBrush}" BorderThickness="2" CornerRadius="3" Margin="0,0,0,10">
                <Grid>
                    <StackPanel Margin="5">
                        <Label Content="深夜料金(H)" FontWeight="Bold" Padding="0,0,0,2" Visibility="{Binding IsOotsukiSheet, Converter={StaticResource BoolToVis}}"/>
                        <Label Content="深夜時間(K)" FontWeight="Bold" Padding="0,0,0,2" Visibility="{Binding IsOotsukiSheet, Converter={StaticResource BoolToVis}, ConverterParameter=Invert}"/>
                        <TextBox Text="{Binding LateValue, UpdateSourceTrigger=PropertyChanged}" Padding="5,2" BorderThickness="0"/>
                    </StackPanel>
                    <Label Content="円" Foreground="{StaticResource SubTextBrush}" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,5,5,0" Visibility="{Binding IsOotsukiSheet, Converter={StaticResource BoolToVis}}"/>
                    <Label Content="分" Foreground="{StaticResource SubTextBrush}" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,5,5,0" Visibility="{Binding IsOotsukiSheet, Converter={StaticResource BoolToVis}, ConverterParameter=Invert}"/>
                </Grid>
            </Border>
            <CheckBox Content="行旅死亡人（基本料半額）" IsChecked="{Binding IsKoryo}" Margin="5,10"/>
            <Button Content="保存" HorizontalAlignment="Right" Margin="0,15,0,0"
                    Command="{Binding SaveCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
                    Background="{StaticResource GreenBrush}" Style="{StaticResource NormalButton}"/>
        </StackPanel>
    </Grid>
</Window>